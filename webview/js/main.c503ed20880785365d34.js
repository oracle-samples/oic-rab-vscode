/**
 * Copyright Â© 2022-2024, Oracle and/or its affiliates.
 * This software is licensed to you under the Universal Permissive License (UPL) 1.0 as shown at https://oss.oracle.com/licenses/upl.
 */
 (self.webpackChunkweb_jetui=self.webpackChunkweb_jetui||[]).push([[179],{6454:(e,t,n)=>{"use strict";n.r(t)},2306:(e,t,n)=>{var a,s;a=[n,t,n(6584),n(8661),n(9818),n(5540),n(3774),n(9338),n(6454)],s=function(e,t,n,a,s,o,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,s.useNavigate)();return(0,a.useEffect)((()=>{l.UtilsNs.notifyVscodeExtension(c.SharedNs.WebviewCommandEnum.webviewRouterReady,{isReady:!0})}),[]),(0,a.useEffect)((()=>l.UtilsNs.listenVscodeExtension(c.SharedNs.ExtensionCommandEnum.routerNavigateTo,(t=>{Object.values(c.SharedNs.WebviewRouteEnum).includes(t.href)?e(t.href):console.error("Unknown href payload.href. Should be one of the allowed values in SharedNs.WebviewRouteEnum",c.SharedNs.WebviewRouteEnum)}))),[]),(0,n.jsxs)("div",Object.assign({className:"App"},{children:[(0,n.jsx)(o.RabAdd,{}),(0,n.jsx)(s.Outlet,{})]}))}}.apply(t,a),void 0===s||(e.exports=s)},4343:(e,t,n)=>{var a,s;a=[n,t,n(904)],s=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useAppSelector=t.useAppDispatch=void 0,t.useAppDispatch=()=>(0,n.useDispatch)(),t.useAppSelector=n.useSelector}.apply(t,a),void 0===s||(e.exports=s)},96:function(e,t,n){var a,s,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};a=[n,t,n(6584),n(9818),n(2248),n(9644),n(3260),n(9338),n(2306)],s=function(e,t,n,a,s,l,c,d,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.router=void 0,i=o(i),t.router=(0,a.createBrowserRouter)([{path:d.SharedNs.WebviewRouteEnum.Root,element:(0,n.jsx)(i.default,{}),children:[{index:!0,element:(0,n.jsx)(a.Navigate,{to:d.SharedNs.WebviewRouteEnum.Copilot})},{path:d.SharedNs.WebviewRouteEnum.Copilot,element:(0,n.jsx)(s.Copilot,{}),children:[{index:!0,element:(0,n.jsx)(a.Navigate,{to:d.SharedNs.WebviewRouteEnum.PostmanAdd})}]},{path:d.SharedNs.WebviewRouteEnum.PostmanAdd,element:(0,n.jsx)(c.PostmanSelect,{})},{path:d.SharedNs.WebviewRouteEnum.OpenAPIAdd,element:(0,n.jsx)(l.OpenAPISelect,{})}]}])}.apply(t,a),void 0===s||(e.exports=s)},2398:function(e,t,n){var a,s,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};a=[n,t,n(3629),n(5409),n(9059),n(7365),n(583)],s=function(e,t,n,a,s,l,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0,a=o(a),s=o(s),l=o(l),c=o(c),t.store=(0,n.configureStore)({reducer:{copilot:a.default,postmanSelect:l.default,openAPISelect:s.default,rabAdd:c.default}})}.apply(t,a),void 0===s||(e.exports=s)},8990:(e,t,n)=>{var a,s;a=[n,t,n(6584),n(8854),n(396),n(9812),n(5432),n(9093),n(96),n(2398),n(904),n(9818)],s=function(e,t,n,a,s,o,l,c,d,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.App=void 0,t.App=(0,a.registerCustomElement)("app-root",(({appName:e="RAB"})=>((0,s.useEffect)((()=>{c.getPageContext().getBusyContext().applicationBootstrapComplete()}),[]),(0,n.jsx)(r.Provider,Object.assign({store:i.store},{children:(0,n.jsxs)("div",Object.assign({id:"appContainer",class:"oj-web-applayout-page"},{children:[(0,n.jsx)(l.Header,{appName:e}),(0,n.jsx)(u.RouterProvider,{router:d.router}),(0,n.jsx)(o.Footer,{})]}))})))),"App",{properties:{appName:{type:"string"}}},{appName:"RAB"})}.apply(t,a),void 0===s||(e.exports=s)},9812:(e,t,n)=>{var a;a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Footer=void 0,t.Footer=function(){return null}}.apply(t,[n,t]),void 0===a||(e.exports=a)},5432:function(e,t,n){var a,s,o=this&&this.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n);var s=Object.getOwnPropertyDescriptor(t,n);s&&!("get"in s?!t.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,a,s)}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]}),l=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return l(t,e),t};a=[n,t,n(6584),n(9666),n(396),n(537),n(9767),n(2781)],s=function(e,t,n,a,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Header=void 0,a=c(a),t.Header=function({appName:e}){const t=(0,s.useRef)(window.matchMedia(a.getFrameworkQuery("sm-only"))),[o,l]=(0,s.useState)(t.current.matches);function c(e){l(e.matches)}return(0,s.useEffect)((()=>(t.current.addEventListener("change",c),()=>t.current.removeEventListener("change",c))),[t]),(0,n.jsx)("header",Object.assign({role:"banner",class:"oj-web-applayout-header"},{children:(0,n.jsxs)("div",Object.assign({class:"oj-web-applayout-max-width oj-flex-bar oj-sm-align-items-center"},{children:[(0,n.jsxs)("div",Object.assign({class:"oj-flex-bar-middle oj-sm-align-items-baseline"},{children:[(0,n.jsx)("span",{role:"img",class:"oj-icon demo-oracle-icon",title:"Oracle Logo",alt:"Oracle Logo"}),(0,n.jsx)("h1",Object.assign({class:"oj-sm-only-hide oj-web-applayout-header-title",title:"Application Name"},{children:e}))]})),(0,n.jsx)("div",{class:"oj-flex-bar-end"})]}))}))}}.apply(t,a),void 0===s||(e.exports=s)},2248:function(e,t,n){var a,s,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};a=[n,t,n(6584),n(4343),n(8661),n(9818),n(5538),n(3774),n(9338),n(5409),n(537)],s=function(e,t,n,a,s,l,c,d,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Copilot=void 0;const u=(c=o(c)).default.div((({theme:e})=>({height:"calc(96vh - 20px)!important",border:"1px solid #ccc",padding:"10px",margin:"10px",borderRadius:"10px"}))),p=c.default.div((({theme:e})=>({bottom:"40px",position:"fixed"}))),m=c.default.span((({theme:e})=>({right:"20px",position:"fixed",zIndex:1e3})));function h(){return(0,a.useAppSelector)(r.selectCopilot),(0,n.jsx)("ul",{})}t.Copilot=function(){(0,a.useAppDispatch)();const e=(0,a.useAppSelector)(r.selectCopilot),t=(0,l.useNavigate)(),o=(0,s.useCallback)((()=>{d.UtilsNs.notifyVscodeExtension(i.SharedNs.WebviewCommandEnum.webviewLifecycle,{type:"close"})}),[]);return(0,s.useEffect)((()=>{e.finishSteps?o():t(e.currentStep)}),[e,o]),(0,n.jsxs)(u,{children:[(0,n.jsx)(m,Object.assign({"aria-label":"delete",onClick:o},{children:(0,n.jsxs)("oj-button",Object.assign({id:"icon_button1",display:"icons"},{children:["Icon Button",(0,n.jsx)("span",{slot:"startIcon",class:"oj-ux-ico-close-circle"})]}))})),(0,n.jsx)(h,{}),(0,n.jsx)(p,{children:(0,n.jsx)(l.Outlet,{})})]})}}.apply(t,a),void 0===s||(e.exports=s)},5409:(e,t,n)=>{var a,s;a=[n,t,n(3629),n(9338)],s=function(e,t,n,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectCopilot=t.gotoNextStep=t.copilotSlice=void 0;const s=a.SharedNs.WebviewRouteEnum.PostmanAdd,o={steps:[s,a.SharedNs.WebviewRouteEnum.PostmanAdd],currentStepNumber:0,currentStep:s,status:"idle"};t.copilotSlice=(0,n.createSlice)({name:"copilotSlice",initialState:o,reducers:{gotoNextStep:(e,t)=>{e.currentStepNumber!==e.steps.length-1?(e.currentStepNumber++,e.currentStep=e.steps[e.currentStepNumber]):e.finishSteps=!0}}}),t.gotoNextStep=t.copilotSlice.actions.gotoNextStep,t.selectCopilot=e=>e.copilot,t.default=t.copilotSlice.reducer}.apply(t,a),void 0===s||(e.exports=s)},9644:function(e,t,n){var a,s,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};a=[n,t,n(6584),n(8661),n(4343),n(3774),n(9338),n(5538),n(9059),n(1597),n(4679),n(537),n(3970),n(3917),n(255),n(7376)],s=function(e,t,n,a,s,l,c,d,i,r,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAPISelect=void 0,d=o(d),r=o(r);const p=d.default.div((({theme:e})=>({margin:"2vh"}))),m=d.default.div((({theme:e})=>({marginBottom:"2vh"}))),h=d.default.div((({theme:e})=>({marginBottom:"2vh"}))),f=d.default.div((({theme:e})=>({marginBottom:"2vh"}))),v=d.default.div((({theme:e})=>({marginBottom:"2vh"})));t.OpenAPISelect=function(){const e=(0,s.useAppSelector)(i.selectEntryType),t=(0,s.useAppSelector)(i.selectOpenAPISelect),o=((0,s.useAppSelector)(i.selectADD),(0,s.useAppSelector)(i.selectOpenAPIStatus)),d=((0,s.useAppSelector)(i.selectOpenAPIChecked),(0,s.useAppSelector)(i.selectOpenAPIWithTagsChecked)),A=(0,s.useAppSelector)(i.selectOpenAPIToRemove),y=(0,s.useAppSelector)(i.selectOpenAPIToAdd),P=(0,s.useAppSelector)(i.selectOpenAPIIsSelectAll),S=(0,s.useAppSelector)(i.selectOpenAPIValidity),b=(0,s.useAppDispatch)(),[O,g]=(0,a.useState)(new r.default([])),[E,j]=(0,a.useState)([]);(0,a.useEffect)((()=>{window.vscode===window&&b((0,i.getOpenAPIDataAsync)())}),[]),(0,a.useEffect)((()=>{if(t&&t.paths){const e=(0,u.convertOpenAPIPathesToTree)(t);g(new r.default(e,{keyAttributes:"id"}))}}),[t]),(0,a.useEffect)((()=>l.UtilsNs.listenVscodeExtension(c.SharedNs.ExtensionCommandEnum.updateOpenAPIRawData,(e=>{e?b((0,i.updateOpenAPIRawData)(e)):console.error("[OpenAPISelect] openAPIDocumentData must be set as OpenAPI Document JSON string")}))),[]),(0,a.useEffect)((()=>l.UtilsNs.listenVscodeExtension(c.SharedNs.ExtensionCommandEnum.updateEntryType,(e=>{b((0,i.setEntryType)(e))}))),[]),(0,a.useEffect)((()=>{const e=Object.values(S.details).map((e=>e.map((e=>e)))).reduce(((e,t)=>e.concat(t)),[]);j(e)}),[S]);const w=(0,a.useCallback)((e=>{b((0,i.selectByNames)({value:e.detail.value,previousValue:e.detail.previousValue,updatedFrom:e.detail.updatedFrom}))}),[]),C=(0,a.useCallback)((()=>{S.valid?(console.log("openAPIStatus to be posted",o),e===c.SharedNs.VscodeCommandPayloadEntryType.OpenAPIConvertDocument?l.UtilsNs.notifyVscodeExtension(c.SharedNs.WebviewCommandEnum.openAPIDoneConvertDocument,o):l.UtilsNs.notifyVscodeExtension(c.SharedNs.WebviewCommandEnum.openAPISelectRequests,o),l.UtilsNs.notifyVscodeExtension(c.SharedNs.WebviewCommandEnum.webviewLifecycle,{type:"close"})):alert("The selection is invalid.")}),[o,e,S]),I=(0,a.useCallback)((()=>{b(P?(0,i.deselectAll)():(0,i.selectAll)())}),[P]);return(0,a.useEffect)((()=>{l.UtilsNs.notifyVscodeExtension(c.SharedNs.WebviewCommandEnum.openAPISelectReady,{isReady:!0})}),[]),(0,n.jsxs)(p,{children:[e!==c.SharedNs.VscodeCommandPayloadEntryType.OpenAPIConvertDocument&&(0,n.jsx)("h2",{children:"Select the OpenAPI paths and methods that you want to add to the adapter definition document."}),e===c.SharedNs.VscodeCommandPayloadEntryType.OpenAPIConvertDocument&&(0,n.jsx)("h2",{children:"Select the OpenAPI paths and methods that you want to convert to the adapter definition document."}),(0,n.jsxs)(v,{children:["There are ",y.length," requests to add",A.length?` and ${A.length} requests to remove`:"","."]}),(0,n.jsx)(m,{children:(0,n.jsx)("oj-button",Object.assign({onClick:C,disabled:!S.valid},{children:"Done"}))}),!S.valid&&(0,n.jsx)(f,{children:(0,n.jsx)("oj-messages",{messages:E,position:null,display:"general",displayOptions:{category:"none"}})}),(0,n.jsx)(h,{children:(0,n.jsx)("oj-checkboxset",Object.assign({value:[P],onClick:I},{children:(0,n.jsx)("oj-option",Object.assign({value:!0},{children:"Select All"}))}))}),(0,n.jsx)("oj-tree-view",{id:"select_requests",data:O,selectionMode:"multiple","aria-label":"All OpenAPI operations",onselectionChanged:w,selection:d,item:{renderer:({data:e})=>({insert:e.title})}})]})}}.apply(t,a),void 0===s||(e.exports=s)},4679:(e,t,n)=>{var a;a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertOpenAPIPathesToTree=t.allHttpMethods=t.getAllOpenAPITagMap=t.resolveRef=t.getSelectedOpenAPIPath=t.annotateOpenAPIRawData=t.setAllWithSelectionState=t.getSelectedOpenAPIPathForBackend=t.getSelectedOpenAPIPathFromADD=t.selectItemsByFullPathId=t.filterValidTags=t.MAX_OPEN_API_REQUEST_COUNT=void 0;const n="$___TAG___$",a="Not Tagged",s=a;t.MAX_OPEN_API_REQUEST_COUNT=200,t.filterValidTags=(e,t=[])=>{let n=(null!=t?t:[]).filter((t=>!!e[t]));return n.length||(n=[a]),n},t.selectItemsByFullPathId=(e,a,s,o)=>{if(!(null==e?void 0:e.paths))return;const l=(0,t.getAllOpenAPITagMap)(e);Object.entries(e.paths).forEach((e=>{e[0];const c=e[1];Object.entries(c).filter((e=>t.allHttpMethods.includes(e[0]))).forEach((e=>{e[0];const c=e[1],d=(0,t.filterValidTags)(l,e[1].tags),i=void 0!==o;if(!c.fullPathId)throw new Error("fullPathId is not defined: "+JSON.stringify(c));const r=d.find((e=>{const t=`${n}${e}`;return 1===s.length&&s[0]===t}));if(r)c.isSelected=!!a[`${n}${r}`];else if(c.fullPathId&&(!!a[c.fullPathId]!==c.isSelected||i))try{c.isSelected=i?o:!!a[c.fullPathId]}catch(e){console.warn(e)}}))}))},t.getSelectedOpenAPIPathFromADD=e=>(null==e?void 0:e.actions)?Object.fromEntries(Object.entries(e.actions).filter((e=>!!e[1].$refOpenapi)).map((e=>{const t=e[1].$refOpenapi,n=e[1];return[t,{actionRef:n.$refOpenapi,actionDisplayName:n.displayName}]}))):{},t.getSelectedOpenAPIPathForBackend=({openapi:e,add:n})=>{const a=[],s=[],o=[];if(!(null==e?void 0:e.paths))return{actionDelta:{selected:a,add:s,remove:o}};const l=(0,t.getSelectedOpenAPIPathFromADD)(n);return console.log("[getSelectedOpenAPIPathForBackend] add",n),Object.entries(e.paths).forEach((e=>{e[0];const n=e[1];Object.entries(n).filter((e=>t.allHttpMethods.includes(e[0]))).map((e=>{e[0];const t=e[1],n=t.isSelected,c=l[t.fullPathId];n&&a.push({actionRef:t.fullPathId}),c&&n||!c&&!n||(n?s.push({actionRef:t.fullPathId}):o.push(Object.assign({},c)))}))})),{actionDelta:{add:s,selected:a,remove:o}}},t.setAllWithSelectionState=(e,n)=>{(null==e?void 0:e.paths)&&Object.entries(e.paths).forEach((e=>{e[0];const a=e[1];Object.entries(a).filter((e=>t.allHttpMethods.includes(e[0]))).forEach((e=>{e[0],e[1].isSelected=!!n}))}))},t.annotateOpenAPIRawData=({openapi:e,add:n})=>{if(!(null==e?void 0:e.paths))return;const a=(0,t.getSelectedOpenAPIPath)(n);return Object.entries(e.paths).forEach((e=>{const n=e[0],s=e[1];Object.entries(s).filter((e=>t.allHttpMethods.includes(e[0]))).forEach((e=>{const t=e[0],s=e[1];s.fullPathId=`${t.toUpperCase()}:${n}`,s.isSelected=!!s.isSelected||!!a.has(s.fullPathId)}))})),e},t.getSelectedOpenAPIPath=e=>(null==e?void 0:e.actions)?new Set((Object.values(e.actions)||[]).filter((e=>!!e.$refOpenapi)).map((e=>e.$refOpenapi))):new Set,t.resolveRef=(e,n)=>{if(!e||"object"!=typeof e)return e;const a={};return Object.entries(e).forEach((e=>{const s=e[0],o=e[1];if("object"!=typeof o||!o)return void(a[s]=o);const l=o.$ref;a[s]=l?(0,t.resolveRef)(((e,t)=>{if(!(e=e.trim()).startsWith("#"))throw new Error("only support $ref started with #");const n=(e=e.replace("#","").replace(/(^\/|\/$)/g,"")).split("/");let a=t;for(;n.length;)if(a=a[n.shift()],!a)throw new Error(`[findObjectByRef] Unable to find ref [${e}] from openapi [${JSON.stringify(t)}]`);return a})(l,n),n):(0,t.resolveRef)(o,n)})),a},t.getAllOpenAPITagMap=e=>{var t;const n=Object.fromEntries(Object.values(null!==(t=null==e?void 0:e.tags)&&void 0!==t?t:[]).map((e=>[e.name,Object.assign(Object.assign({},e),{children:[]})])));return n[s]={children:[],name:a},n},t.allHttpMethods=["get","post","put","delete","head","options","patch","connect","trace"],t.convertOpenAPIPathesToTree=e=>{const a=(...e)=>{const t=e.filter((e=>!!e));return t.length<2?t.join(""):`${t.shift()} ${t.length?`(${t.join("; ")})`:""}`},s=(0,t.getAllOpenAPITagMap)(e),o=e.paths;return Object.entries(null!=o?o:{}).forEach((e=>{const n=e[0];return Object.entries(e[1]).filter((e=>t.allHttpMethods.includes(e[0]))).map((e=>{const o=e[0].toUpperCase(),l=e[1],c=(0,t.filterValidTags)(s,l.tags),d=`${o}:${n}`,i={title:a(l.summary,l.operationId,`${o}:${n}`),id:d,selected:!!l.isSelected};c.forEach((e=>{s[e].children.push(i)}))}))})),Object.values(s).map((e=>({title:`${e.name} ${e.description?`(${e.description})`:""}`,id:`${n}${e.name}`,selected:e.children.length&&e.children.every((e=>e.selected)),children:e.children}))).filter((e=>e.children.length))}}.apply(t,[n,t]),void 0===a||(e.exports=a)},9059:function(e,t,n){var a,s,o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,o){function l(e){try{d(a.next(e))}catch(e){o(e)}}function c(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}d((a=a.apply(e,t||[])).next())}))};a=[n,t,n(3629),n(6486),n(9338),n(4679)],s=function(e,t,n,a,s,l){"use strict";var c;Object.defineProperty(t,"__esModule",{value:!0}),t.selectOpenAPIValidity=t.selectOpenAPIToAdd=t.selectOpenAPIToRemove=t.selectOpenAPIIsSelectAll=t.selectOpenAPIWithTagsChecked=t.selectOpenAPIChecked=t.selectOpenAPITagChecked=t.selectOpenAPIStatus=t.selectEntryType=t.selectADD=t.selectOpenAPISelectRaw=t.selectOpenAPISelect=t.deselectAll=t.selectAll=t.setEntryType=t.updateOpenAPIRawData=t.selectByNames=t.openAPISelectSlice=t.getOpenAPIDataAsync=void 0;const d={entryType:s.SharedNs.VscodeCommandPayloadEntryType.OpenAPIAddRequest,status:"idle"};t.getOpenAPIDataAsync=(0,n.createAsyncThunk)("openAPISelect/getOpenAPIRawData",(()=>o(void 0,void 0,void 0,(function*(){return{}}))));const i=(e,t)=>{e.value=(0,l.annotateOpenAPIRawData)(t),e.valueRaw=t.openapi,e.addValue=t.add};t.openAPISelectSlice=(0,n.createSlice)({name:"openAPISelect",initialState:d,reducers:{selectByNames:(e,t)=>{const n=t.payload.previousValue,s=t.payload.value,o=(0,a.difference)(s,n),c=(0,a.difference)(n,s),d=Object.fromEntries(t.payload.value.map((e=>[e,!0])));(0,l.selectItemsByFullPathId)(e.value,d,"internal"===t.payload.updatedFrom?(0,a.uniq)([...o,...c]):[])},selectAll:(e,t)=>{(0,l.selectItemsByFullPathId)(e.value,{},[],!0)},deselectAll:(e,t)=>{(0,l.selectItemsByFullPathId)(e.value,{},[],!1)},updateOpenAPIRawData:(e,t)=>{e.status="idle",i(e,t.payload)},setEntryType:(e,t)=>{e.entryType=t.payload}},extraReducers:e=>{e.addCase(t.getOpenAPIDataAsync.pending,(e=>{e.status="loading"})).addCase(t.getOpenAPIDataAsync.fulfilled,((e,t)=>{e.status="idle",i(e,t.payload)})).addCase(t.getOpenAPIDataAsync.rejected,(e=>{e.status="failed"}))}}),c=t.openAPISelectSlice.actions,t.selectByNames=c.selectByNames,t.updateOpenAPIRawData=c.updateOpenAPIRawData,t.setEntryType=c.setEntryType,t.selectAll=c.selectAll,t.deselectAll=c.deselectAll,t.selectOpenAPISelect=e=>e.openAPISelect.value,t.selectOpenAPISelectRaw=e=>e.openAPISelect.valueRaw,t.selectADD=e=>e.openAPISelect.addValue,t.selectEntryType=e=>e.openAPISelect.entryType,t.selectOpenAPIStatus=(0,n.createSelector)(t.selectOpenAPISelect,t.selectADD,((e,t)=>e?(0,l.getSelectedOpenAPIPathForBackend)({openapi:e,add:t}):{actionDelta:{add:[],remove:[],selected:[]}})),t.selectOpenAPITagChecked=(0,n.createSelector)(t.selectOpenAPISelect,(e=>{if(!e)return[];const t=(0,l.convertOpenAPIPathesToTree)(e).filter((e=>{var t;return(null===(t=e.children)||void 0===t?void 0:t.length)&&e.children.every((e=>e.selected))})).map((e=>e.id));return t})),t.selectOpenAPIChecked=(0,n.createSelector)(t.selectOpenAPIStatus,(e=>e.actionDelta.selected.map((e=>e.actionRef)))),t.selectOpenAPIWithTagsChecked=(0,n.createSelector)(t.selectOpenAPIChecked,t.selectOpenAPITagChecked,((e,t)=>[...e,...t])),t.selectOpenAPIIsSelectAll=(0,n.createSelector)(t.selectOpenAPISelect,(e=>(null==e?void 0:e.paths)&&Object.values(e.paths).every((e=>Object.entries(e).filter((e=>l.allHttpMethods.includes(e[0]))).every((e=>e[1].isSelected)))))),t.selectOpenAPIToRemove=(0,n.createSelector)(t.selectOpenAPIStatus,(e=>e.actionDelta.remove.map((e=>e.actionRef)))),t.selectOpenAPIToAdd=(0,n.createSelector)(t.selectOpenAPIStatus,(e=>e.actionDelta.add.map((e=>e.actionRef)))),t.selectOpenAPIValidity=(0,n.createSelector)(t.selectOpenAPIChecked,t.selectOpenAPIToAdd,t.selectOpenAPIToRemove,((e,t,n)=>{const a={valid:!1,details:{}};return e.length>l.MAX_OPEN_API_REQUEST_COUNT&&(a.details.MAX_OPEN_API_REQUEST_COUNT=[{severity:"error",summary:`You can at most select ${l.MAX_OPEN_API_REQUEST_COUNT} requests.`}]),0===t.length&&0===n.length&&(a.details.MAX_OPEN_API_REQUEST_COUNT=[{severity:"info",summary:"There are no changes."}]),a.valid=!Object.keys(a.details).length,a})),t.default=t.openAPISelectSlice.reducer}.apply(t,a),void 0===s||(e.exports=s)},3260:function(e,t,n){var a,s,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};a=[n,t,n(6584),n(8661),n(4343),n(3774),n(9338),n(5538),n(7365),n(1597),n(537),n(3970),n(3917),n(7376)],s=function(e,t,n,a,s,l,c,d,i,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PostmanSelect=void 0,d=o(d),r=o(r);const u=d.default.div((({theme:e})=>({margin:"2vh"}))),p=d.default.div((({theme:e})=>({marginBottom:"2vh"}))),m=d.default.div((({theme:e})=>({marginBottom:"2vh"}))),h=d.default.div((({theme:e})=>({marginBottom:"2vh"}))),f=e=>{var t;return(null===(t=e.item)||void 0===t?void 0:t.map((e=>{var t;let n={title:e.name,id:e.name,selected:!!e.isSelected,children:f(e)};return(null===(t=n.children)||void 0===t?void 0:t.length)||delete n.children,n})))||[]};t.PostmanSelect=function(){const e=(0,s.useAppSelector)(i.selectEntryType),t=(0,s.useAppSelector)(i.selectPostmanSelect),o=(0,s.useAppSelector)(i.selectPostmanChecked),d=(0,s.useAppSelector)(i.selectPostmanCheckedWithParentNodes),v=(0,s.useAppSelector)(i.selectPostmanCheckedForTestConnection),A=(0,s.useAppDispatch)(),[y,P]=(0,a.useState)(new r.default([])),[S,b]=(0,a.useState)(!1);(0,a.useEffect)((()=>{e===c.SharedNs.VscodeCommandPayloadEntryType.PostmanConvertDocument&&(A((0,i.selectAll)()),b(!0))}),[e]),(0,a.useEffect)((()=>{window.vscode===window&&A((0,i.getPostmanDataAsync)())}),[]),(0,a.useEffect)((()=>{if(t&&t.item){const e=f(t);P(new r.default(e,{keyAttributes:"id"}))}}),[t]),(0,a.useEffect)((()=>l.UtilsNs.listenVscodeExtension(c.SharedNs.ExtensionCommandEnum.updatePostmanRawData,(e=>{e?A((0,i.updatePostmanRawData)(e)):console.error("[PostmanSelect] postmanCollectionData must be set as the postman collection JSON string")}))),[]),(0,a.useEffect)((()=>l.UtilsNs.listenVscodeExtension(c.SharedNs.ExtensionCommandEnum.updateEntryType,(e=>{A((0,i.setEntryType)(e))}))),[]);const O=(0,a.useCallback)((e=>{A((0,i.selectByNames)(e.detail.value))}),[]),g=(0,a.useCallback)((e=>{A((0,i.selectTestConnectionByNames)(e.detail.value))}),[]),E=(0,a.useCallback)((()=>{console.log("checkData to be posted",o),e===c.SharedNs.VscodeCommandPayloadEntryType.PostmanConvertDocument?l.UtilsNs.notifyVscodeExtension(c.SharedNs.WebviewCommandEnum.postmanDoneConvertDocument,{items:o,selectedItemForTestConnection:v[0]}):l.UtilsNs.notifyVscodeExtension(c.SharedNs.WebviewCommandEnum.postmanSelectRequests,{items:o}),l.UtilsNs.notifyVscodeExtension(c.SharedNs.WebviewCommandEnum.webviewLifecycle,{type:"close"})}),[o,v,e]),j=(0,a.useCallback)((()=>{A(S?(0,i.deselectAll)():(0,i.selectAll)()),b(!S)}),[S]);return(0,a.useEffect)((()=>{l.UtilsNs.notifyVscodeExtension(c.SharedNs.WebviewCommandEnum.postmanSelectReady,{isReady:!0})}),[]),(0,n.jsxs)(u,{children:[e!==c.SharedNs.VscodeCommandPayloadEntryType.PostmanConvertDocument&&(0,n.jsx)("h2",{children:"Select the request(s) you want to add to the adapter definition document."}),e===c.SharedNs.VscodeCommandPayloadEntryType.PostmanConvertDocument&&(0,n.jsx)("h2",{children:"Select the request(s) you want to convert to the adapter definition document."}),(0,n.jsxs)(h,{children:["You have selected ",o.length," requests to convert."]}),!!v.length&&(0,n.jsxs)(h,{children:["The request for testing connection: ",v[0]]}),(0,n.jsx)(p,{children:(0,n.jsx)("oj-button",Object.assign({onClick:E},{children:"Done"}))}),(0,n.jsx)(m,{children:(0,n.jsx)("oj-checkboxset",Object.assign({value:[S],onClick:j},{children:(0,n.jsx)("oj-option",Object.assign({value:!0},{children:"Select All"}))}))}),(0,n.jsx)("oj-tree-view",{id:"select_requests",data:y,selectionMode:"multiple","aria-label":"All Postman requests",onselectionChanged:O,selection:d,item:{renderer:({data:e})=>({insert:e.title})}}),e===c.SharedNs.VscodeCommandPayloadEntryType.PostmanConvertDocument&&(0,n.jsxs)("oj-collapsible",{children:[(0,n.jsxs)("h5",Object.assign({slot:"header"},{children:[!!v.length&&(0,n.jsxs)("span",{children:["The request for testing connection: ",v[0]]}),!v.length&&(0,n.jsx)("span",{children:"(Optional) Pick a request for test connection."})]})),(0,n.jsx)("oj-tree-view",{id:"select_request_for_test_conn",data:y,selectionMode:"single","aria-label":"All Postman requests",onselectionChanged:g,selection:v,item:{renderer:({data:e})=>({insert:e.title})}})]})]})}}.apply(t,a),void 0===s||(e.exports=s)},7365:function(e,t,n){var a,s,o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,o){function l(e){try{d(a.next(e))}catch(e){o(e)}}function c(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}d((a=a.apply(e,t||[])).next())}))};a=[n,t,n(3629),n(9338)],s=function(e,t,n,a){"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.selectPostmanCheckedForTestConnection=t.selectPostmanCheckedWithParentNodes=t.selectPostmanChecked=t.selectEntryType=t.selectPostmanSelect=t.deselectAll=t.selectAll=t.setEntryType=t.updatePostmanRawData=t.selectTestConnectionByNames=t.selectByNames=t.postmanSelectSlice=t.getPostmanDataAsync=void 0;const l={entryType:a.SharedNs.VscodeCommandPayloadEntryType.PostmanAddRequest,status:"idle"};t.getPostmanDataAsync=(0,n.createAsyncThunk)("postmanSelect/getPostmanRawData",(()=>o(void 0,void 0,void 0,(function*(){return{}}))));const c=(e,t,n)=>{var a;const s=void 0!==n;var o=!!e.name&&(!!t[e.name]!==e.isSelected||s);o&&(e.isSelected=s?n:!!t[e.name]),(o||s)&&(null===(a=e.item)||void 0===a||a.forEach((e=>{delete t[e.name]}))),e.item&&e.item.forEach((a=>c(a,t,s?n:o?e.isSelected:void 0)))},d=(e,t)=>{e.item?e.item.forEach((e=>d(e,t))):e.isSelectedForTestConnection=!!t[e.name]},i=(e,t)=>{e.isSelected=t,e.item&&e.item.forEach((e=>i(e,t)))};t.postmanSelectSlice=(0,n.createSlice)({name:"postmanSelect",initialState:l,reducers:{selectByNames:(e,t)=>{c(e.value,Object.fromEntries(t.payload.map((e=>[e,!0]))))},selectTestConnectionByNames:(e,t)=>{d(e.value,Object.fromEntries(t.payload.map((e=>[e,!0]))))},selectAll:(e,t)=>{i(e.value,!0)},deselectAll:(e,t)=>{i(e.value,!1)},updatePostmanRawData:(e,t)=>{((e,t)=>{e.value=t.payload})(e,t)},setEntryType:(e,t)=>{e.entryType=t.payload}},extraReducers:e=>{e.addCase(t.getPostmanDataAsync.pending,(e=>{e.status="loading"})).addCase(t.getPostmanDataAsync.fulfilled,((e,t)=>{e.status="idle",e.value=t.payload})).addCase(t.getPostmanDataAsync.rejected,(e=>{e.status="failed"}))}}),s=t.postmanSelectSlice.actions,t.selectByNames=s.selectByNames,t.selectTestConnectionByNames=s.selectTestConnectionByNames,t.updatePostmanRawData=s.updatePostmanRawData,t.setEntryType=s.setEntryType,t.selectAll=s.selectAll,t.deselectAll=s.deselectAll,t.selectPostmanSelect=e=>e.postmanSelect.value,t.selectEntryType=e=>e.postmanSelect.entryType;const r=(e,t)=>{const n=e.isSelected?[e.name]:[];return e.item?e.item.map((e=>r(e,t))).reduce(((e,t)=>[...e,...t]),t?n:[]):n},u=e=>{const t=e.isSelectedForTestConnection?[e.name]:[];return e.item?e.item.map((e=>u(e))).reduce(((e,t)=>[...e,...t]),[]):t};t.selectPostmanChecked=(0,n.createSelector)(t.selectPostmanSelect,(e=>e?r(e):[])),t.selectPostmanCheckedWithParentNodes=(0,n.createSelector)(t.selectPostmanSelect,(e=>e?r(e,!0):[])),t.selectPostmanCheckedForTestConnection=(0,n.createSelector)(t.selectPostmanSelect,(e=>e?u(e):[])),t.default=t.postmanSelectSlice.reducer}.apply(t,a),void 0===s||(e.exports=s)},5540:(e,t,n)=>{var a,s;a=[n,t,n(8661),n(4343),n(3774),n(9338),n(583)],s=function(e,t,n,a,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RabAdd=void 0,t.RabAdd=function(){const e=(0,a.useAppSelector)(l.selectRabAdd),t=(0,a.useAppSelector)(l.selectRabAddDraft),c=(0,a.useAppSelector)(l.selectVsCodeEditorConfig),d=(0,a.useAppSelector)(l.selectRabAddStatus),i=(0,a.useAppDispatch)();return(0,n.useEffect)((()=>{console.log("[RabAdd] data changed.",e)}),[e]),(0,n.useEffect)((()=>{"saving"===d&&t&&s.UtilsNs.notifyVscodeExtension(o.SharedNs.WebviewCommandEnum.rabAddSave,{addToSave:t,vsCodeEditorConfig:c})}),[d,t,c]),(0,n.useEffect)((()=>{window.vscode===window&&i((0,l.getRabAddDataAsync)())}),[]),(0,n.useEffect)((()=>s.UtilsNs.listenVscodeExtension(o.SharedNs.ExtensionCommandEnum.loadRabAddData,(e=>{e?i((0,l.loadRabAddData)(e)):console.error("[RabAdd] rabAddData must be set")}))),[]),(0,n.useEffect)((()=>{s.UtilsNs.notifyVscodeExtension(o.SharedNs.WebviewCommandEnum.rabAddReady,{isReady:!0})}),[]),null}}.apply(t,a),void 0===s||(e.exports=s)},583:function(e,t,n){var a,s,o=this&&this.__awaiter||function(e,t,n,a){return new(n||(n=Promise))((function(s,o){function l(e){try{d(a.next(e))}catch(e){o(e)}}function c(e){try{d(a.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,c)}d((a=a.apply(e,t||[])).next())}))};a=[n,t,n(3629)],s=function(e,t,n){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.selectRabAddStatus=t.selectVsCodeEditorConfig=t.selectRabAddDraft=t.selectRabAdd=t.saveRabAddData=t.loadRabAddData=t.rabAddSlice=t.getRabAddDataAsync=void 0,t.getRabAddDataAsync=(0,n.createAsyncThunk)("rabAdd/load",(()=>o(void 0,void 0,void 0,(function*(){return{}})))),t.rabAddSlice=(0,n.createSlice)({name:"rabAdd",initialState:{status:"idle"},reducers:{loadRabAddData:(e,t)=>{e.draft=e.value=t.payload,e.status="idle"},saveRabAddData:(e,t)=>{e.draft=t.payload.add,e.draftString=t.payload.addString,e.vsCodeEditorConfig=t.payload.editorConfig,e.status="saving"}},extraReducers:e=>{e.addCase(t.getRabAddDataAsync.pending,(e=>{e.status="loading"})).addCase(t.getRabAddDataAsync.fulfilled,((e,t)=>{e.status="idle",e.value=t.payload,e.draft=e.value=t.payload})).addCase(t.getRabAddDataAsync.rejected,(e=>{e.status="failed"}))}}),a=t.rabAddSlice.actions,t.loadRabAddData=a.loadRabAddData,t.saveRabAddData=a.saveRabAddData,t.selectRabAdd=e=>e.rabAdd.value,t.selectRabAddDraft=e=>e.rabAdd.draft,t.selectVsCodeEditorConfig=e=>e.rabAdd.vsCodeEditorConfig,t.selectRabAddStatus=e=>e.rabAdd.status,t.default=t.rabAddSlice.reducer}.apply(t,a),void 0===s||(e.exports=s)},8460:(e,t,n)=>{var a,s;a=[n,t,n(8990)],void 0===(s=function(e,t){}.apply(t,a))||(e.exports=s)},3774:(e,t,n)=>{var a;a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UtilsNs=void 0;const n=window.vscode||(window.acquireVsCodeApi?window.acquireVsCodeApi():window.parent||window);var a;window.vscode=n,(a=t.UtilsNs||(t.UtilsNs={})).notifyVscodeExtension=(e,t)=>{window.vscode.postMessage({target:"vscode",command:e,payload:t},"*")},a.listenVscodeExtension=(e,t)=>{const n=n=>{var a,s;if("webview"!==(null===(a=n.data)||void 0===a?void 0:a.target))return;const{command:o,payload:l}=null!==(s=n.data)&&void 0!==s?s:{};o===e&&t(l)};return window.addEventListener("message",n),()=>window.removeEventListener("message",n)}}.apply(t,[n,t]),void 0===a||(e.exports=a)},9338:(e,t,n)=>{var a;a=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RabAddUtilNs=t.SharedNs=void 0,function(e){let t,n;e.ADDJsonStringify=e=>JSON.stringify(e,null,2),e.WebviewCommandEnum={webviewRouterReady:"webviewRouterReady",webviewLifecycle:"webviewLifecycle",postmanSelectRequests:"postmanSelectRequests",postmanDoneConvertDocument:"postmanDoneConvertDocument",postmanSelectReady:"postmanSelectReady",openAPISelectRequests:"openAPISelectRequests",openAPISelectReady:"openAPISelectReady",openAPIDoneConvertDocument:"openAPIDoneConvertDocument",rabAddReady:"rabAddReady",rabAddSave:"rabAddSave"},e.ExtensionCommandEnum={openCopilotPostmanConvert:"orab.webview.copilot.open.postman.convert",openPostmanConvertConverDocument:"orab.convert.postman.document",openOpenAPIConvertNewDocument:"orab.add.convert",openOpenAPIConvertAppendDocument:"orab.add.convert.append",openCopilotAssistant:"orab.webview.copilot.open.assistant",updatePostmanRawData:"updatePostmanRawData",updateOpenAPIRawData:"updateOpenAPIRawData",updateEntryType:"updateEntryType",loadRabAddData:"loadRabAddData",routerNavigateTo:"routerNavigateTo"},function(e){e.Root="/",e.PostmanAdd="postman/add",e.OpenAPIAdd="openapi/add",e.Copilot="copilot"}(t=e.WebviewRouteEnum||(e.WebviewRouteEnum={})),function(e){e.PostmanConvertDocument="PostmanConvertDocument",e.PostmanAddRequest="PostmanAddRequest",e.OpenAPIConvertDocument="OpenAPIConvertDocument",e.OpenAPIAddRequest="OpenAPIAddRequest"}(n=e.VscodeCommandPayloadEntryType||(e.VscodeCommandPayloadEntryType={}))}(t.SharedNs||(t.SharedNs={})),(t.RabAddUtilNs||(t.RabAddUtilNs={})).flowPrefix="flow:"}.apply(t,[n,t]),void 0===a||(e.exports=a)}},e=>{e.O(0,[412],(()=>(8460,e(e.s=8460)))),e.O()}]);
//# sourceMappingURL=main.c503ed20880785365d34.js.map